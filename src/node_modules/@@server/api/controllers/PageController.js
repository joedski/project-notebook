module.exports = ({ controllers, models }) => ({
  getPages({
    offset = 0,
    limit = 0,
  } = {}) {
    return models.$withTransaction(trx => {
      return models.Page.getPages(trx, { offset, limit })
    })
    // TODO: Better error messaging?
    // .catch(error => {
    //   console.error(error)
    //   throw new Error('Error retrieving pages')
    // })
  },

  getPageById(pageId) {
    return models.$withTransaction(trx => {
      return models.Page.getPageById(trx, pageId)
    })
  },

  createPage(pageProps) {
    return models.$withTransaction(trx => {
      return models.Page.createPage(trx, pageProps)
    })
    // TODO: Better error messaging?
    // .catch(error => {
    //   console.error(error)
    //   throw new Error('Error creating page')
    // })
  },

  updatePage(pageId, pageProps) {
    return models.$withTransaction(trx => {
      return models.Page.updatePage(trx, pageId, pageProps)
    })
    // TODO: Better error messaging?
    // .catch(error => {
    //   console.error(error)
    //   throw new Error('Error creating page')
    // })
  },
})
