function getOption(options = {}) {
  return function $getOption(optionName, defaultValue) {
    if (optionName in options) return options[optionName]
    return defaultValue
  }
}

export default function scriptMount(options = {}) {
  const $option = getOption(options)

  const scriptTag = $option('scriptTag', document.currentScript)
  const mountPoint = document.createElement($option('tagName', 'div'))

  if ('mountId' in scriptTag.dataset) {
    mountPoint.id = scriptTag.dataset.mountId
  }

  if ('mountClass' in scriptTag.dataset) {
    mountPoint.className = scriptTag.dataset.mountClass
  }

  scriptTag.parentNode.insertBefore(mountPoint, scriptTag)

  return mountPoint
}
